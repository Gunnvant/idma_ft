Hey Harry,


 1. Volatility smile is calculated based on (contract_price - fwd_price).    If we denote this difference as d, then compare it with the volatility smile curves based on the following rules:

   To make it clear, let's assume the volatility smile curve is for -1.5, -1, -0.5, 0, 0.5, 1, 1.5

   a) if d is between the smallest and biggest scale in the curve, namely -1.5 and 1.5, then it is mapped to the closest scalar smaller than it.  This means for d>0, say, d = 1.2, it is mapped to 1;  for d<0, say d= -1.2, it is mapped to -1.5.

   b) if d is greater than the maximum scalar in the curve, it is mapped to the maximum scalar, 1.5 in this example.

   c) if d is less than the smallest scalar in the curve, it is mapped to the smallest scalar, -1.5 in this example.

2.  Volatility smile is calculated in the same way regardless of the deal types.

3.  For Houston deals, volatility smile is always applied.
 

Sanjay